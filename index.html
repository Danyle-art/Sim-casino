<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sim Casino - Mobile</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0b0b0b">
    <link rel="apple-touch-icon" href="https://via.placeholder.com/192/d4af37/000000?text=Casino">

    <style>
        :root {
            --casino-green: #1a5e3a;
            --felt-green: #247345;
            --gold: #d4af37;
            --red: #c41e3a;
            --black: #1a1a1a;
            --wheel-size: 300px; /* Slightly smaller for mobile */
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #0b0b0b; color: white; overflow-x: hidden;
            touch-action: manipulation; /* Prevents accidental zooming */
        }

        /* --- MAIN MENU --- */
        #main-menu {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; background: radial-gradient(circle, #1a1a1a 0%, #000 100%); text-align: center;
            padding: 20px;
        }
        .casino-title {
            font-size: 2.5rem; color: var(--gold); text-transform: uppercase; letter-spacing: 3px;
            margin-bottom: 10px; text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }
        .welcome-text { font-size: 1rem; color: #ccc; margin-bottom: 30px; }
        
        /* Mobile Game Grid */
        .game-grid { 
            display: flex; 
            flex-direction: column; 
            gap: 20px; 
            width: 100%;
            max-width: 350px;
        }
        
        .game-card {
            width: 100%; height: 150px; background: #222; border: 2px solid #444; border-radius: 15px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; position: relative; overflow: hidden;
        }

        .card-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center; z-index: 1; opacity: 0.6;
        }

        .game-card::before { 
            content: ''; position: absolute; inset: 0; 
            background: rgba(0,0,0,0.4); 
            z-index: 2;
        }
        
        .game-card h3 { position: relative; z-index: 3; font-size: 1.8rem; margin: 0; color: var(--gold); text-shadow: 2px 2px 4px black; }

        /* General View Adjustments */
        #game-view, #slots-view, #bj-view { 
            display: none; flex-direction: column; align-items: center; 
            padding: 10px; padding-top: 60px; min-height: 100vh; box-sizing: border-box;
        }

        .back-btn { position: fixed; top: 10px; left: 10px; background: #333; color: white; border: none; padding: 8px 15px; border-radius: 5px; z-index: 100; }

        /* --- ROULETTE MOBILE --- */
        .wheel-outer { 
            position: relative; width: var(--wheel-size); height: var(--wheel-size); 
            border: 8px solid #444; border-radius: 50%; background: #222; 
            margin-bottom: 20px; flex-shrink: 0;
        }
        #wheel { position: absolute; width: 100%; height: 100%; border-radius: 50%; }
        .spoke { position: absolute; width: 25px; height: 50%; left: 50%; transform-origin: bottom center; margin-left: -12.5px; display: flex; justify-content: center; padding-top: 5px; }
        .num-text { font-size: 12px; }

        /* Vertical Table for Mobile */
        .table-container { 
            display: flex; flex-direction: column; 
            transform: scale(0.9); /* Scale to fit width */
            margin-top: -10px;
        }
        .grid { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); /* 3 columns wide for vertical layout */
            gap: 1px; 
            background: white; 
        }
        .cell { height: 45px; width: 80px; }

        /* --- BLACKJACK MOBILE --- */
        .bj-table { 
            background: radial-gradient(circle, #2e8b57 0%, #1a5e3a 100%); 
            width: 95vw; height: 400px; 
            border-radius: 40px; border: 10px solid #2b1d0e; 
            position: relative; margin-top: 10px; 
            display: flex; flex-direction: column; align-items: center; justify-content: space-around;
        }
        .card { width: 60px; height: 85px; font-size: 0.8rem; }
        .card-row { height: 90px; }

        /* --- SLOTS MOBILE --- */
        .slots-container { 
            width: 90vw; padding: 15px; border-width: 4px;
        }
        .reels-window { gap: 5px; padding: 10px; height: 100px; }
        .reel-column { width: 30%; height: 100px; }
        .symbol { height: 100px; font-size: 40px; }

        /* History and Controls */
        .history-panel { width: 95vw; height: 100px; margin-top: 15px; }
        .chip-selector { gap: 8px; padding: 8px 15px; }
        .chip-opt { width: 40px; height: 40px; font-size: 0.8rem; }
        .spin-btn { padding: 10px 30px; font-size: 1rem; }
        
        .stats { font-size: 1rem; gap: 20px; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div id="main-menu">
        <h1 class="casino-title">Sim Casino</h1>
        <p class="welcome-text">Mobile Edition</p>
        <div class="game-grid">
            <div class="game-card" onclick="startGame('roulette')">
                <div class="card-bg" style="background-image: url('roullette.jfif');"></div>
                <h3>Roulette</h3>
            </div>
            <div class="game-card" onclick="startGame('blackjack')">
                <div class="card-bg" style="background-image: url('blackjack.jfif');"></div>
                <h3>Blackjack</h3>
            </div>
            <div class="game-card" onclick="startGame('slots')">
                <div class="card-bg" style="background-image: url('slot_machine.jfif');"></div>
                <h3>Slots</h3>
            </div>
        </div>
    </div>

    <div id="bj-view">
        <button class="back-btn" onclick="showMenu()">← Menu</button>
        <div class="stats"><div>Balance: <span class="bal-display" style="color:#0f0">$1000</span></div></div>
        <div id="bj-msg">GOOD LUCK</div>
        <div class="bj-table">
            <div class="bj-score">DEALER: <span id="d-score">?</span></div>
            <div class="card-row" id="dealer-cards"></div>
            <div id="player-hands-container" style="display:flex; gap:20px; z-index:2;">
                <div style="display:flex; flex-direction:column; align-items:center;">
                    <div class="card-row" id="player-cards"></div>
                    <div class="bj-score">PLAYER: <span id="p-score">0</span></div>
                </div>
                <div id="split-hand-container" style="display:none; flex-direction:column; align-items:center;">
                    <div class="card-row" id="player-cards-split"></div>
                    <div class="bj-score">SPLIT: <span id="p-score-split">0</span></div>
                </div>
            </div>
        </div>
        <div style="margin-top: 15px; display: flex; flex-direction: column; align-items: center; gap: 10px;">
            <div id="bj-controls">
                <input type="number" id="bj-bet" style="background:#222; color:var(--gold); border:2px solid var(--gold); padding:8px; width:80px; text-align:center;" value="50">
                <button class="spin-btn" onclick="startBJ()">DEAL</button>
            </div>
            <div id="bj-actions" style="display:none; gap: 5px;">
                <button class="spin-btn" onclick="bjHit()">HIT</button>
                <button class="spin-btn" style="background:#444;" onclick="bjStand()">STAND</button>
                <button id="bj-double" class="spin-btn" style="background:#8a6d3b; padding: 10px 15px;" onclick="bjDouble()">DBL</button>
            </div>
        </div>
    </div>

    <div id="game-view">
        <button class="back-btn" onclick="showMenu()">← Menu</button>
        <div id="msg">Place Bets</div>
        <div class="stats">
            <div class="bal-display" style="color:#0f0">$1000</div>
            <div id="total-bet" style="color:var(--gold)">$0</div>
        </div>
        <div class="wheel-outer">
            <div id="wheel"></div>
            <div id="ball-track" class="ball-track"><div id="ball"></div></div>
        </div>
        <div class="chip-selector">
            <div class="chip-opt c5 selected" onclick="selectChip(5, this)">5</div>
            <div class="chip-opt c10" onclick="selectChip(10, this)">10</div>
            <div class="chip-opt c50" onclick="selectChip(50, this)">50</div>
            <div class="chip-opt c100" onclick="selectChip(100, this)">100</div>
        </div>
        <div class="table-container">
            <div class="main-row">
                <div class="zero" id="b-0" onclick="placeBet('number', 0, 'b-0')" style="width: 100%; height: 40px; border: 1px solid white; margin-bottom: 2px;">0</div>
            </div>
            <div class="grid" id="grid"></div>
            <div class="outside-row" style="margin-top: 5px;">
                <div class="out-btn" id="b-red" onclick="placeOutside('red', 'black', 'b-red')" style="background:var(--red); height: 40px;">RED</div>
                <div class="out-btn" id="b-black" onclick="placeOutside('black', 'red', 'b-black')" style="background:var(--black); height: 40px;">BLK</div>
            </div>
        </div>
        <div style="margin-top: 15px; display: flex; gap: 10px;">
            <button class="spin-btn" id="spin-btn" onclick="startSpin()">SPIN</button>
            <button class="spin-btn" style="background:#444;" onclick="clearBets()">CLR</button>
        </div>
    </div>

    <div id="slots-view">
        <button class="back-btn" onclick="showMenu()">← Menu</button>
        <div class="stats"><div class="bal-display" style="color:#0f0">$1000</div></div>
        <div class="slots-container">
            <div id="slot-msg">PULL LEVER</div>
            <div class="reels-window">
                <div class="reel-column"><div class="reel-strip" id="strip1"></div></div>
                <div class="reel-column"><div class="reel-strip" id="strip2"></div></div>
                <div class="reel-column"><div class="reel-strip" id="strip3"></div></div>
            </div>
            <div style="margin-top: 20px;">
                <input type="number" id="slot-bet" style="background:#222; color:var(--gold); border:2px solid var(--gold); padding:8px; width:60px; text-align:center;" value="10">
                <button class="spin-btn" id="slot-spin-btn" onclick="startSlots()">SPIN</button>
            </div>
        </div>
    </div>

    <script>
        // [PASTE THE SAME JAVASCRIPT LOGIC FROM THE PREVIOUS MESSAGE HERE]
        // (Ensure you include the initGame, startBJ, startSpin, etc. functions)
    </script>
</body>
</html>
